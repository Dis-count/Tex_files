这篇文章我们引入了一种新的方式用来稳定大联盟，即同时对不稳定联盟中的成员进行补贴和惩罚。其中的基本思想是对每一位想要离开联盟的成员进行数值为z的惩罚，同时对留在大联盟中的成员提供数值为w的补贴。
为了形式化说明这种观点，我们基于线性规划模型建立了一个补贴惩罚函数w(z)，使得我们可以对惩罚和补贴之间的权衡程度进行量化以做出决策。通过研究函数w(z)，我们得出了关于如何权衡惩罚与补贴的一般性质。对于这种新方法的补充，我们设计了两种两种算法来构造方程w(z)以及近似构造。两种算法都依赖于求解对于任意给定z的w(z)值,基于此我们提出了两种有效的求解方法。更进一步我们应用这种新的方法在一系列的机器调度博弈中，显示了它的广泛适用性。

在涉及到多个参与者的许多决策问题中，最小化总成本一直是集中优化所关心的，这本质上要求所有的参与者形成一个大联盟进行合作。为了确保大联盟是稳定的，产生的最小总成本需要完全分配给所有的参与者使得没有参与者或者参与者形成的小联盟离开大联盟会更好。作为合作博弈理论中的中心主题之一，有着广泛的应用。例如：设施选址，库存，外包问题等等。这样成本分配的集合被称为合作博弈的核，如果核是非空的，大联盟的稳定性就得到了保证。然而在很多情况下核都是空的，这表明大联盟是不稳定的。这篇文章中，我们研究了如政府这样的中央权威者在不稳定的合作博弈中如何稳定大联盟。
稳定大联盟有两种常用方式可以使用，即惩罚和补贴。中央权威者对离开大联盟的参与者进行惩罚，另一方面对留在联盟中的参与者进行补贴。但是单独运用这两种方法有许多缺点，例如惩罚会导致参与者不满意，而为大联盟提供补贴则以引入外部资源为代价。
因而在本文中，我们研究了这种同时进行惩罚和补贴的新方法。
上面的说明表明，我们新提出的方法的基本思想是收取一些可能不足以完全稳定大联盟的惩罚，但仍然可以帮助减少需要提供的补贴。 换句话说，惩罚和补贴变得互补。 因此，如果惩罚增加，补贴可以减少，反之亦然，这使得中央当局能够评估各种选择。这是我们研究惩罚和补贴之间权衡的动机。
如上所述，大多数关于稳定大联盟的现有工作都使用了惩罚或补贴方法。 虽然新提出的同时使用这两种方法的想法很容易理解，但是人们不清楚如何量化惩罚和补贴水平之间的权衡。 这提出了以下研究问题：中央当局需要收取多少适当的罚款，以便所需的外部资源量是可以支付的？
可转移效用的合作博弈模型可以描述为一对参数 $(V,c)$,其中 $V={1,2,\dots,v}$ 表示 $v$ 个参与者的集合，并且 $v\geq2$,同时
$c:2^{V}\to \mathbb{R}$ 表示一个特征函数。一个联盟被定义为一个参与者非空的子集，并且 $V$ 表示大联盟。我们使用 $S=2^{V} \setminus\{\emptyset\}$ 表示所有联盟的集合。对于每个联盟 $s\in S$,特征函数 $c(s)$ 是当联盟 $s$ 中的成员合作时完成他们工作所需的最小总花费。合作博弈需要一个成本分配向量 $\theta=[\theta_{1},\theta_{2},\dots,\theta_{v}] \in \mathbb{R}^{v}$ 其中 $\theta_{k}$ 代表参与者 $k \in V$ 的成本分配。我们使用 $\theta(s)=\sum_{k\in{s}}\theta_{k}$ 来简记每个联盟 $s\in S$ 的总成本。
合作博弈中一个最重要的概念是核，记为核 $(V,c)$，即满足平衡预算限制，$\theta(V)=c(V)$ 和联盟稳定限制 $\theta(s) \leq c(s)$ 的成本分配向量 $\theta\in\mathbb{R}^{v}$ 的集合。或者说，我们有 $Core(V,c)= \left\{\theta:\theta(V)=c(V), \theta(s)\leq c(s)\ \text{for all}\ s \in S \setminus\{V\}, \theta \in \mathbb{R}^{v} \right\}$。
由于许多合作博弈并不稳定，为了稳定大联盟，我们可以采用惩罚的方法，即中央集权对任何想要离开大联盟的子联盟进行值为 $z$ 的惩罚，由于惩罚会造成联盟成员不满意，因此中央集权需要找到惩罚的最小值。这可以用下面的线性规划进行表示：
$z^*=\mathop{\min}_{\beta,z}\{z:beta(V)=c(V),beta(s)\leq c(s)+z\ \text{for all}\ s \in S\setminus\{V\},z \in \mathbb{R},\beta \in \mathbb{R}^{v}\}$
另一方面，我们还可以采用补贴的方式，即中央集权对选择在大联盟中合作的成员提供一定的补贴，使得在所有成员中分摊的总成本少于 $c(V)$。
所需要的最小补贴可以用下式表示：
$\omega^*=\mathop{\min}_{\alpha}\{c(V)-\alpha(V):\alpha(s)\leq c(s)\ \text{for all}\ s \in S, \alpha\in\mathbb{R}^{v}\}$
为了将上述两种方法结合起来，我们现在定义惩罚补贴函数，即对于合作博弈关于 $z$ 惩罚的最小补贴。考虑如下的线性规划：
$\omega(z)^*=\mathop{\min}_{\alpha}\{c(V)-\alpha(V):\alpha(s)\leq c(s)\ \text{for all}\ s \in S\setminus\{V\}, \alpha\in\mathbb{R}^{v}\}$.其中 $\omega(z)$ 作为 $z$ 的函数称为惩罚补贴函数(PSF)。
PSF为我们展示了稳定联盟同时进行惩罚和补贴的概念。对于每一个z不足以阻止成员偏离大联盟时，中央集权就需要提供至少 $\omega(z)$ 的补贴来确保大联盟的合作。在二者的作用下，没有成员或者子联盟通过离开大联盟会得到更多的收益，因此大联盟变得稳定。
我们通过得到PSF函数的一些性质进而帮助我们理解在不稳定的合作博弈中如何权衡惩罚和补贴。
对于(1)式，作为一种常用的技巧，我们首先得到它的对偶问题的表示式如下：
$\omega(z)=\mathop{\max}_{\rho}\{c(V)+\sum_{s\in S\setminus\{V\}}-\rho_s[c(s)+z]:\sum_{s\in S\setminus\{V\}:k\in s}\rho_s=1,\forall k \in V,\rho_s\geq 0,\forall s \in S \setminus{V}\}$
同时对于任何联盟 $s\in S\setminus{V}$，都有 $c(s)\leq\beta(s,z)\leq c(s)+z$,特别地，我们称满足 $\beta(s,z)=c(s)+z$ 的联盟为最不满意联盟。同时定义 $S^{\beta z}={s_1^{\beta z},s_2^{\beta z},\dots,s_h(\beta,z)^{\beta z}}$ 表明所有不满意联盟的集合，其中 $h(\beta,z)=|S^{\beta z}|$
由此我们可以得到下式：$s_1^{\beta z}\cup s_2^{\beta z}\cup\dots\cup s_h(\beta,z)^{\beta z}=V$.上式表明不满意联盟的集合包含所有的参与者，即体现了在成本分摊中的一种公平性。
定义
\[
\Pi^{\beta z}=\{{\rho}:\sum_{s\in S\setminus\{V\}:k\in s}\rho_s=1,\forall k \in V,\rho_s=0 \quad\forall s\notin S^{\beta z}, \text{and}\quad \rho_s\geq 0 \quad\forall s\in S^{\beta z}\}
\]
由互补松弛条件，我们知道每一个 $\rho\in\Pi^{\beta z}$ 是(2)的一个最优解。因此我们进一步定义
\[
K^{\beta z}_{l'}=\mathop{\min}\{\sum_{s\in S\setminus {V}} -\rho_s:\rho\in\Pi^{\beta z}\} \text{and}
K^{\beta z}_{r'}=\mathop{\max}\{\sum_{s\in S\setminus {V}} -\rho_s:\rho\in\Pi^{\beta z}\}
\]
分别为在点 $(z,w(z))$ 的弱左导数和右导数。基于这些性质，我们进一步分析如何在有效域内构造 $\omega(z)$ 或者 它的近似函数。
我们使用IPC(Intersection Points Computation)算法来构造PSF:即在 $[0,z]$ 内选取一点 $z'$ 计算 $w(z)$ 在 $z'$ 处的
$K^{\beta z}_{l'}, K^{\beta z}_{r'}$。当两者不相等时 $z'$ 则为断点，并将其作为两侧线段的斜率，如果两者相等，则 $z'$ 不是断点。同时 $z'$ 将 $[0,z]$ 分为两个区间，再分别在新的区间中如前述步骤重复生成 $z'$ 直至没有区间包含断点。最后我们通过连接断点就可以构造这个分段线性的函数PSF。
对于PSF有大量断点的情况，通过IPC算法构造函数是费时的，我们可以经过一定数量的迭代步骤之后停止算法，然后使用已得到的断点构造函数的上下界。

接着我们提出了两种计算任意给定z的 $\omega(z)$ 值的方法，它们可进一步用于计算 $\omega(z)$ 的弱导数。利用这些，我们可以应用前面提出的IPC算法来构造PSF及其近似。
设 $\pi (z)$ 表示以下线性规划的最优目标值：
\[
\pi (z)=\mathop{\max}_{\beta}\{\beta (V):\beta (s)\leq c(s)+z,\quad\forall s\in S\setminus\{V\}, \beta \in \mathbb{R}^{v}\}
\]
$\pi (z)$ 的值可以被解释为给定任何子联盟的偏离惩罚是z，稳定大联盟 $V$ 需要分担的最大总成本。
我们首先使用割平面法求解基于(3)的 $\pi (z)$。先生成一个限制联盟集 $S'\subseteq S\setminus \{V\}$，修改(3)中相应的限制条件为
$\beta (s,z)\leq c(s)+z,\quad\forall s\in S'$，并且定义最优解为 $\bar{\beta}(\cdot,z)$。然后检查 $\bar{\beta}(\cdot,z)$ 对于剩下的子联盟 $s\in S\setminus \{V\} \setminus\S'$ 是否违反了限制条件 $\beta (s,z)\leq c(s)+z$，如果违反限制条件 $\beta (s^*,z)\leq c(s^*)+z$，则将 $s^*$ 加入到 $S'$ 中。继续前述的步骤，直至得到的最优解不再违反限制条件，此时 $\bar{\beta}(\cdot,z)$ 即为(3)式的最优解，从而 $\omega(z)=c(V)-\bar{\beta}(\cdot,z)$。

另一种方法基于线性规划和对偶性理论，我们称之为LP方法，根据Caprara and Letchford(2010)提出的方法，可以得到 $\pi(z)$ 最优目标值等于 $\mathop{\min}{cx+z\mu:(x,\mu)\in C^{x\mu}}$ ，其中 $C^{x\mu}$ 为一个整数规划的圆锥形可行解集在 $(x,\mu)$ 空间上的投影。
所以 $\omega(z)=c(V)-(cx+z\mu)$ 此时 $-\mu$ 即为 $\omega(z)$ 在 $z$ 处的弱导数，接着可以使用IPC算法构造PSF.

最后，我们将上述针对同时惩罚和补贴工具新提出的模型、算法和解决方法应用于一个由未加权作业的相同并行机器调度问题，我们简称之为IPU(Identical Parallel machine scheduling of Unweighted jobs)。
在IPU博弈中，每一个博弈方 $k$ 都有一个工作需要在 $m$ 个相同的其中一台机器上处理。每一项工作都有一个处理时间 $t_k$。每一个子联盟 $s$ 的目的是安排 $s$ 中每个博弈方在机器上的工作处理顺序以使得工作的总时长最小。使用 $C_IPU (s)$ 表示 $s$ 的特征函数值，根据最短处理时间SPT原则，可以得到 $c_IPU (s)$ 的表达式，此时结合之前提到的CP和LP方法，将 $c_IPU (s)$ 带入即可求解对于任意给定的 $z$ 值得到 $\pi(z)$，进而得到 $\omega(z)$。由此我们便可以通过IPC算法得到具体的PSF。

首先我们引入了惩罚补贴函数(PSF)来表征任意给定的惩罚和它相应的用于稳定大联盟的最小补贴之间的关系。我们证明了PSF对于惩罚是分段线性的凸函数并且严格递减，这揭示了增加惩罚可以减少用于实现大联盟稳定的补贴这种递减效应。其次，我们开发了一种算法，在其有效域上迭代地构造了精确的PSF，迭代次数由PSF的有效域上的断点数的四倍所限制。对于PSF具有指数个断点的情况，我们开发了另一种算法来迭代地构造PSF的ε近似，迭代次数由参与者数量的多项式函数限制，并且当ε趋于零时，累积误差也趋于零。
构造PSF的两种算法及其近似都依赖于求解给定任意惩罚的PSF值，我们还可以得出它的计算复杂度并进一步提出了两种有效的解决方法。 第一种方法遵循切割平面方法，第二种方法是基于线性规划理论及其对偶性。 两者都可以应用于广泛的不稳定合作博弈中。我们将新模型，算法和解决方法应用于一类并行机调度问题。 这不仅证明了我们新提出的同时惩罚和补贴用于稳定大联盟这一方法的广泛适用性，同时还揭示了这些博弈的一些有趣属性。
